@model Talent_Hunt.Models.SubmissionViewModel

@{
    ViewBag.Title = "Submission Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-primary mt-4 text-center">Submission Details</h2>

<div class="card shadow p-4 mt-3" style="max-width: 700px; margin: auto;">
    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">User Name:</label>
        <div class="col-sm-9">@Model.UserName</div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">Event Title:</label>
        <div class="col-sm-9">@Model.EventTitle</div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">Submission Time:</label>
        <div class="col-sm-9">@Model.SubmissionTime.ToString("f")</div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">Task Description:</label>
        <div class="col-sm-9">@Model.Details</div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">Submission File:</label>
        <div class="col-sm-9">
            @if (!string.IsNullOrEmpty(Model.PathofSubmission))
            {
                if (Model.PathofSubmission.EndsWith(".jpg") || Model.PathofSubmission.EndsWith(".png") || Model.PathofSubmission.EndsWith(".jpeg"))
                {
                    <img src="http://localhost/TalentHunt1/Images/@Model.PathofSubmission"
                         class="img-fluid rounded border"
                         style="max-height: 300px; object-fit: contain;"
                         alt="Submission Image" />
                }
                else
                {
                    <a class="btn btn-outline-primary" href="@Url.Content(Model.PathofSubmission)" target="_blank">View Submitted File</a>
                }
            }
            else
            {
                <span class="text-danger">No submission file available.</span>
            }
        </div>
    </div>

    <hr />

    <div class="row mb-3">
        <label class="col-sm-3 fw-bold">Assign Marks:</label>
        <div class="col-sm-9">
            <select class="form-select w-50 d-inline-block" id="marksDropdown" name="marksDropdown">
                @for (int i = 0; i <= 10; i++)
                {
                    <option value="@i">@i</option>
                }
            </select>
        </div>
    </div>

    <div class="text-center mt-4">
        <button class="btn btn-success px-4" onclick="submitMarks()">Submit Marks</button>
    </div>
</div>

@section Scripts {
    <script>
        function submitMarks() {
            const selectedMark = document.getElementById("marksDropdown").value;
            alert("Marks Submitted: " + selectedMark);
            // You can integrate AJAX here to save marks
        }
    </script>
}
