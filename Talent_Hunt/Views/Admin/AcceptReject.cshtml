@model Talent_Hunt.Models.AssignedMemberViewModel

@{
    ViewBag.Title = "Accept or Reject Assignment";
}

<h2>Accept or Reject Assignment</h2>

<!-- Show Member Details -->
<div class="card mt-3 p-3">
    <div class="row align-items-center">
        <div class="col-md-2">
            <img src="@Url.Content("~/Images/" + Model.Image)" alt="Profile Image" class="img-fluid rounded-circle" />
        </div>
        <div class="col-md-10">
            <h4>@Model.MemberName</h4>
            <p>Status: <strong>@Model.Status</strong></p>
        </div>
    </div>
</div>

<!-- Accept/Reject Form -->
@using (Html.BeginForm("AcceptReject", "AssignedMember", FormMethod.Post))
{
    @Html.HiddenFor(m => m.MemberId)
    @Html.HiddenFor(m => m.Status, new { id = "StatusInput" })

    <div class="mt-3">
        <button type="submit" class="btn btn-success me-2" onclick="setStatus('Accepted')">Accept</button>
        <button type="submit" class="btn btn-danger" onclick="setStatus('Rejected')">Reject</button>
    </div>
}

<!-- Scripts -->
@section Scripts {
    <script>
        function setStatus(status) {
            document.getElementById("StatusInput").value = status;
        }
    </script>
}

<!-- Notifications -->
@if (TempData["Message"] != null)
{
    <div class="alert alert-success mt-3">
        @TempData["Message"]
    </div>
}

@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger mt-3">
        Failed to update status.
    </div>
}
