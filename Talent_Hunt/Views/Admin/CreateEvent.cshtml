@{
    ViewBag.Title = "Create Event";
}

<h2 class="text-center text-primary">Create New Event</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center"><strong>Success:</strong> @TempData["Success"]</div>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center"><strong>Error:</strong> @TempData["Error"]</div>
}

<div class="container mt-4">
    <form action="@Url.Action("CreateEvent", "Admin")" method="post" enctype="multipart/form-data" class="shadow p-4 bg-light rounded">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold">Event Title:</label>
                    <input type="text" name="eventTitle" class="form-control" required />
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">Description:</label>
                    <textarea name="description" class="form-control" required></textarea>
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">Registration Start Date:</label>
                    <input type="date" id="regStartDate" name="regStartDate" class="form-control" required />
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">Registration End Date:</label>
                    <input type="date" id="regEndDate" name="regEndDate" class="form-control" required />
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label class="fw-bold">Event Date:</label>
                    <input type="date" id="eventDate" name="eventDate" class="form-control" required />
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">Start Time:</label>
                    <input type="time" id="startTime" name="startTime" class="form-control" required />
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">End Time:</label>
                    <input type="time" id="endTime" name="endTime" class="form-control" required />
                </div>

                <div class="form-group mt-3">
                    <label class="fw-bold">Upload Event Image:</label>
                    <input type="file" name="eventImage" class="form-control" />
                </div>
            </div>
        </div>

        <div class="form-group mt-3">
            <label class="fw-bold">Rules:</label><br />
            <div class="row">
                <div class="col-md-6">
                    <input type="checkbox" name="rules[]" value="1st Semester" /> 1st Semester<br />
                    <input type="checkbox" name="rules[]" value="2nd Semester" /> 2nd Semester<br />
                    <input type="checkbox" name="rules[]" value="3rd Semester" /> 3rd Semester<br />
                    <input type="checkbox" name="rules[]" value="4th Semester" /> 4th Semester<br />
                </div>
                <div class="col-md-6">
                    <input type="checkbox" name="rules[]" value="5th Semester" /> 5th Semester<br />
                    <input type="checkbox" name="rules[]" value="6th Semester" /> 6th Semester<br />
                    <input type="checkbox" name="rules[]" value="7th Semester" /> 7th Semester<br />
                    <input type="checkbox" name="rules[]" value="8th Semester" /> 8th Semester<br />
                </div>
            </div>
        </div>

        <div class="mt-4 text-center">
            <button type="submit" class="btn btn-success btn-lg px-5">Create Event</button>
            <a href="@Url.Action("DashBoard", "Admin")" class="btn btn-danger btn-lg px-4">Back</a>
            <a href="@Url.Action("CreateTask", "Admin")" class="btn btn-primary btn-lg px-4">Create Task</a>
            <a href="@Url.Action("AssignMember", "Admin")" class="btn btn-primary btn-lg px-4">Assign Member</a>
        </div>
    </form>
</div>

<!-- JavaScript to Set Default Date & Time -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let today = new Date();
        let dateString = today.toISOString().split("T")[0]; // Format: YYYY-MM-DD
        let timeString = today.toTimeString().split(" ")[0].slice(0, 5); // Format: HH:MM

        document.getElementById("regStartDate").value = dateString;
        document.getElementById("regEndDate").value = dateString;
        document.getElementById("eventDate").value = dateString;
        document.getElementById("startTime").value = timeString;
        document.getElementById("endTime").value = timeString;
    });
</script>

<!-- Include Bootstrap for styling -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
